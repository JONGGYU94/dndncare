<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>글 수정</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-lite.min.css" rel="stylesheet">
<style>
    @font-face {
        font-family: 'Pretendard-Regular';
        src: url('https://fastly.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
        font-weight: 400;
        font-style: normal;
    }
    body {
        font-family: 'Pretendard-Regular', sans-serif;
        background-color: #f8f9fa;
        border: solid;
    }

    .container {
        max-width: 600px;
        margin-top: 50px;
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    hr {
        border: 0;
        height: 4px;
        background-color: #8DD986;
        margin: 20px 0;
    }

    .btn-write {
        height: 40px;
        font-size: 18px;
        border-radius: 10px;
        border: none;
        background-color: #cdf2c9;
        color: black;
    }

    input[readonly] {
        background-color: gray;
    }
</style>
</head>
<body>
    <div class="navbar" th:replace="~{common/navbar.html :: navbar}"></div>
    
    <div class="content-wrapper">
        <main class="container">
            <h1 class="text-center">글 수정</h1>
            <hr>
            <form action="updateBoard.bo" method="post">
                <input type="hidden" th:value="${b.boardNo}" name="boardNo"/>
                <input type="hidden" th:value="${page}" name="page"/>
                <div class="col-md-6 mb-3">
                    <label for="title" class="form-label">제목 : </label>
                    <input type="text" class="form-control" id="boardTitle" name="boardTitle" th:value="${b.boardTitle}">
                </div>
                <hr>
                <div class="mb-3 row">
                    <div class="col-md-4">
                        <label for="category" class="form-label">카테고리 : </label>
                        <select class="form-select" id="categoryNo" name="categoryNo" required>
                            <option disabled>카테고리 선택</option>
                            <th:block th:if="${session.loginUser.memberCategory} == 'A'">
                                <option value="0" th:selected="${b.category == null}">공지사항</option>
                            </th:block>
                            <option value="1" th:selected="${b.categoryNo == 1}">응원의 한마디</option>
                            <option value="2" th:selected="${b.categoryNo == 2}">수다방</option>
                            <th:block th:if="${session.loginUser.memberCategory} == 'C'">
                                <option value="3" th:selected="${b.categoryNo == 3}">일감찾기 팁</option>
                                <option value="4" th:selected="${b.categoryNo == 4}">자격증 정보</option>
                            </th:block>
                            <th:block th:if="${session.loginUser.memberCategory} == 'P'">
                                <option value="5" th:selected="${b.categoryNo == 5}">간병가족정보방</option>
                                <option value="6" th:selected="${b.categoryNo == 6}">간병일지</option>
                            </th:block>
                        </select>
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="area" class="form-label">지역</label>
                        <select class="form-select" id="areaNo" name="areaNo" required>
                            <option disabled th:selected="${b.areaNo == null}">지역 선택</option>
                            <option value="1" th:selected="${b.areaNo == 1}">서울</option>
                            <option value="2" th:selected="${b.areaNo == 2}">경기</option>
                            <option value="3" th:selected="${b.areaNo == 3}">인천</option>
                            <option value="4" th:selected="${b.areaNo == 4}">충청</option>
                            <option value="5" th:selected="${b.areaNo == 5}">전라</option>
                            <option value="6" th:selected="${b.areaNo == 6}">경상</option>
                            <option value="7" th:selected="${b.areaNo == 7}">강원</option>
                            <option value="8" th:selected="${b.areaNo == 8}">제주</option>
                        </select>
                    </div>
                    <hr>
                    <div class="col-md-4">
                        <label for="createDate" class="form-label">작성시간 : </label>
                        <span>[[${b.boardCreateDate}]]</span>
                    </div>
                    <div class="col-md-4">
                        <label for="updateDate" class="form-label">수정시간 : </label>
                        <span>[[${b.boardUpdateDate}]]</span>
                    </div>
                    <div class="col-md-3">
                        <label for="count" class="form-label">조회수 : </label>
                        <span>[[${b.boardCount}]]</span>
                    </div>
                </div>
                <hr>
                <div class="mb-5 col-md-12">
                    <label for="content" class="form-label">내용 : </label>
					 <textarea class="form-control" id="boardContent" name="boardContent" rows="15" th:text="${b.boardContent}" required></textarea>
                </div>

                <div class="d-flex justify-content-center">
                    <button type="submit" class="btn-write me-2">수정하기</button>
                    <button type="button" class="btn btn-outline-danger" onclick="location.href='communityBoardList.bo'">취소하기</button>
                </div>
            </form>
            <hr>
        </main>
    </div>
    <div class="footer" th:replace="~{common/footer.html :: footer}"></div>

    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.18/summernote-lite.min.js"></script>
    <script>
      $(document).ready(function() {
        $('#boardContent').summernote({
          placeholder: '내용을 입력해주세요',
          tabsize: 2,
          height: 300,
          toolbar: [
            ['style', ['style']],
            ['font', ['bold', 'underline', 'clear']],
            ['color', ['color']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['insert', ['link', 'picture']]
          ]
        });
      });
    </script>
</body>
</html>
