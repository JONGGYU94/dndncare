<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>관리자의 간병백과 페이지</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
	<style>
		main>div {
			display: grid; grid-template-columns: 1fr 50px 1fr; grid-template-rows: 400px;
		}
	
	
	</style>
</head>
<body>
	<div th:replace="~{common/adminNavbarTemp :: navbarTemp}"></div>
	<div th:replace="~{common/adminSymbolTemp :: symbolTemp}"></div>

	<div class="container-fluid">
		<div class="row">
			<div th:replace="~{common/adminbarTemp :: sidebar}"></div>

			<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
				<div>
					<div class="h-100 p-5 bg-light border rounded-3">그래프 자리</div>
					<div><!-- 사이공백 --></div>
					<div class="h-100 p-5 bg-light border rounded-3">그래프 자리</div>
				</div>	
				
				<br/>
				
				<div>	
					<div>
						<table class="table table-hover" id="careInformationTable">
							<thead>
								<tr>
									<th>번호</th>
									<th>제목</th>
									<th>작성자</th>
									<th>작성일</th>
									<th>조회수</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="b : ${bList}">
									<td>[[${b.boardNo}]]</td>
									<td>[[${b.boardTitle}]]</td>
									<td>[[${b.memberNickName}]]</td>
									<td>[[${b.boardUpdateDate}]]</td>
									<td>[[${b.boardCount}]]</td>
								</tr>
							</tbody>
						</table>
						<div style="display:grid; grid-template-columns:100px 1fr 300px;">
							<form>
								<button type="button" class="btn btn-primary" id="writeBtn">글 쓰기</button>
							</form>
							<div><!-- 버튼 사이 공백 --></div>
							<div>
								<div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
									<div class="btn-group me-2 text-end" role="group" aria-label="First group">
										<!-- 이전 버튼 -->
										<button type="button" class="btn btn-outline-secondary" th:if="${pi.currentPage <= 1}" disabled>Previous</button>
	 									<button type="button" class="btn btn-outline-secondary" th:if="${pi.currentPage > 1}" th:onclick="|location.href='@{${loc}(page=${pi.currentPage - 1})}'|">Previous</button>
										
										<!-- 숫자 버튼 -->
										<th:block th:each="p: ${#numbers.sequence(pi.startPage, pi.endPage)}">
								    		<button type="button" class="btn btn-outline-secondary" th:onclick="|location.href='@{${loc}(page=${p})}'|">[[${p}]]</button>
										</th:block> 
									    
									    <!-- 다음 버튼 -->
									    <button type="button" class="btn btn-outline-secondary" th:if="${pi.currentPage >= pi.maxPage}" disabled>Next</button>
									    <button type="button" class="btn btn-outline-secondary" th:if="${pi.currentPage < pi.maxPage}" th:onclick="|location.href='@{${loc}(page=${pi.currentPage+1})}'|">Next</button>
									</div>
								</div>
							</div>
						</div>
					</div>
					
					<div><!-- 사이공백 --></div>
					
					<div class="h-100 p-5 bg-light border rounded-3" id="careInformationDetail">
						<!-- 글 상세내용이 들어올 공간 -->
					</div>
				</div>
			</main>
		</div>
	</div>
	
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.1/dist/chart.umd.min.js" integrity="sha384-gdQErvCNWvHQZj6XZM0dNsAoY4v+j5P1XDpNkcM3HJG1Yx04ecqIHk7+4VBOCHOG" crossorigin="anonymous"></script>
	<script th:inline="javascript">
		window.onload = () => {
			// 간병백과 글 쓰기 페이지로 이동(시작)
			document.querySelector('#writeBtn').addEventListener('click', () => {
				location.href = 'writeCareInformationPage.adm';
			})
			// 간병백과 글 쓰기 페이지로 이동(끝)
			
			//글 상세보기 요청(시작)
			const tdList = document.getElementById('careInformationTable').querySelectorAll('td');
			const detailDiv = document.querySelector('#careInformationDetail');
			for(const td of tdList){
				td.addEventListener('click', function() {
					for(const other of tdList){
						if(other != this){
							other.parentElement.style.background = 'white'; // 클릭하지 않은 tr의 배경색을 white로 변경
						}
					}
					this.parentElement.style.background = 'lightgray'; // 클릭한 tr의 배경색을 lightgray로 변경
					
					// 상세보기 div에 출력할 노드 작성(시작)
					const titleSpan = document.createElement('span');
					titleSpan.setAttribute("class", "badge rounded-pill bg-dark fs-6");
					titleSpan.innerText = '내용';
					
					//const br = document.
					
					
					
					
					//detailDiv.append
				})
				
				
			}
			
			
		}
	</script>
</body>
</html>